webpackJsonp([1],{"+NUB":function(e,t){},"3Xmy":function(e,t){},"3eQR":function(e,t){},B0fS:function(e,t){},IsuA:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("7+uW"),n={name:"SimpleInput",props:{placeholder:{type:String,default:"Discover Disease or Gene in Our Database"},showType:{default:""}},data:function(){return{words:[],value:""}},created:function(){var e=this;this.$http.get("/api/word/all").then(function(t){e.words=t.data.map(function(e){return{t:"g"===e.t?"gene":"disease",n:e.n}})})},computed:{filteredDataObj:function(){var e=this;return this.words.filter(function(t){return(""===e.showType||t.t===e.showType)&&t.n.toLowerCase().indexOf(e.value.toLowerCase())>=0})}},methods:{handleSelect:function(e){null===e&&this.$emit("emitTag",{n:"",t:""}),this.$emit("emitTag",{n:e.n,t:e.t})}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-autocomplete",{attrs:{type:"search",placeholder:e.placeholder,"keep-first":!1,"open-on-focus":!0,data:e.filteredDataObj,field:"n"},on:{select:e.handleSelect},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n      "+e._s(t.option.n)+"\n      "),a("small",[e._v(e._s(t.option.t))])]}}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})},staticRenderFns:[]};var r=a("VU/8")(n,i,!1,function(e){a("+NUB")},"data-v-e8b6c514",null).exports,o={name:"App",components:{SimpleInput:r},data:function(){return{breadList:[],curBread:["/home","Home",""],showSearchAndBread:!0,navItem:[{name:"Home",path:"/home"},{name:"Search",path:"/search"},{name:"Documentation",path:"/documentation"}]}},created:function(){this.refreshBreadList(this.$route)},watch:{$route:function(e,t){this.refreshBreadList(e)},curBread:function(e,t){this.navItem[0].path=e[0]}},methods:{refreshBreadList:function(e){if("Search"!==e.name&&"Documentation"!==e.name&&"Help"!==e.name&&"Mutations"!==e.name){if(this.showSearchAndBread=!0,"Home"===e.name)return this.curBread=["/home","Home",""],void(this.breadList=[]);""!==this.curBread[0]&&this.breadList.push(this.curBread);var t=e.path.split("/"),a="";5===t.length?(a="Relation",t=[t[3],t[4]].join(" | ")):(a=e.name,t=t[2]);var s=e.path;"Relationship"===e.name&&(a="Relation",t=e.params.name),"Disease"===e.name&&void 0!==e.query.genes&&(s+="?genes="+e.query.genes);for(var n=-1,i=0;i<this.breadList.length;i++)if(this.breadList[i][1]+this.breadList[i][2]===a+t){n=i;break}n>-1&&this.breadList.splice(n,1),this.curBread=[s,a,t]}else this.showSearchAndBread=!1},routeTo:function(e){this.$router.replace(e)},handleRoute:function(e){""!==e.t&&this.$router.replace("/"+e.t+"/"+e.n)},outTo:function(e){window.open(e)},setClass:function(e){return"Disease"===e?"is-danger":"Gene"===e?"is-success":"Home"===e?"is-light":"is-warning"},getCurActive:function(e){return this.$route.name===e?"is-active":this.showSearchAndBread&&"Home"===e?"is-active":""}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("nav",{staticClass:"navbar is-light",attrs:{role:"navigation","aria-label":"main navigation"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"navbar-brand"},[a("router-link",{staticClass:"navbar-item has-text-primary",attrs:{to:"/"}},[a("span",{staticClass:"logo"},[e._v("Neurodism")])])],1),e._v(" "),a("div",{staticClass:"navbar-menu is-active"},[a("div",{staticClass:"navbar-end"},[e._l(e.navItem,function(t){return a("router-link",{key:t.name,staticClass:"navbar-item",class:e.getCurActive(t.name),attrs:{to:t.path}},[e._v(e._s(t.name))])}),e._v(" "),a("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[a("a",{staticClass:"navbar-link"},[e._v("\n            Contact US\n          ")]),e._v(" "),a("div",{staticClass:"navbar-dropdown is-right is-boxed"},[a("div",{staticClass:"dropdown-item"},[a("a",{staticClass:"has-text-dark",on:{click:function(t){e.outTo("mailto:zhaohy8@mail.sysu.edu.cn")}}},[e._m(0),e._v("  \n            zhaohy8@mail.sysu.edu.cn")])]),e._v(" "),a("hr",{staticClass:"navbar-divider"}),e._v(" "),a("div",{staticClass:"dropdown-item"},[a("a",{staticClass:"has-text-dark",on:{click:function(t){e.outTo("https://j.map.baidu.com/JVGrP")}}},[e._m(1),e._v("  \n            Sun Yat-sen Memorial Hospital, Sun Yat-sen University, Guangzhou 510000, China")])])])])],2)])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showSearchAndBread,expression:"showSearchAndBread"}],staticClass:"container is-margin-tb"},[a("SimpleInput",{staticClass:"is-margin-tb",on:{emitTag:e.handleRoute}}),e._v(" "),a("div",{staticClass:"field is-grouped is-grouped-multiline"},[e._l(e.breadList,function(t){return a("router-link",{key:t[0],staticClass:"control",attrs:{to:t[0]}},[a("div",{staticClass:"tags has-addons"},[a("span",{staticClass:"tag",class:e.setClass(t[1])},[e._v(e._s(t[1]))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:""!==t[2],expression:"bread[2] !== ''"}],staticClass:"tag"},[e._v(e._s(t[2]))])])])}),e._v(" "),a("div",{staticClass:"control"},[a("div",{staticClass:"tags has-addons"},[a("span",{staticClass:"tag",class:e.setClass(e.curBread[1])},[e._v(e._s(e.curBread[1]))]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:""!==e.curBread[2],expression:"curBread[2] !== ''"}],staticClass:"tag"},[e._v(e._s(e.curBread[2]))])])])],2)],1),e._v(" "),a("div",[a("keep-alive",[e.$route.meta.keepAlive?a("router-view"):e._e()],1),e._v(" "),e.$route.meta.keepAlive?e._e():a("router-view")],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"has-text-info"},[t("i",{staticClass:"fa fa-at"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"has-text-success"},[t("i",{staticClass:"fa fa-map-marker"})])}]};var d=a("VU/8")(o,l,!1,function(e){a("Oe5V")},"data-v-71030296",null).exports,c=a("/ocq"),u=a("BO1k"),h=a.n(u),v={name:"GeneRelDiagramCy",props:["name"],data:function(){return{loading:!0}},mounted:function(){this.refreshData()},methods:{refreshData:function(){var e=this;this.loading=!0,this.$http.get("/api/gp/"+this.name).then(function(t){e.loading=!1;var s=a("inpl"),n=a("gpFn");s.use(n);var i=[],r={},o=!0,l=!1,d=void 0;try{for(var c,u=h()(t.data);!(o=(c=u.next()).done);o=!0){var v=c.value,p=v.g1,m=v.g2,f=v.d.length;r[p]||(r[p]=!0,i.push({data:{id:p}})),r[m]||(r[m]=!0,i.push({data:{id:m}})),i.push({data:{id:p+m,value:f,source:p,target:m}})}}catch(e){l=!0,d=e}finally{try{!o&&u.return&&u.return()}finally{if(l)throw d}}var g=s({container:document.getElementById("cy"),elements:i,style:[{selector:"node",style:{"background-color":"#c62828",width:12,"font-size":10,height:12,color:"#888",content:"data(id)"}},{selector:"edge",style:{width:1,"line-color":"#444"}}],layout:{name:"euler",springLength:function(e){return 100},animate:!0,refresh:10,gravity:-10,springCoeff:function(e){return 2e-4},randomize:!0,fit:!1},zoom:1,minZoom:.2,maxZoom:4}),_=e;g.nodes().on("click",function(){"all"===_.name?_.$router.push("/gene/"+this.id()):_.$router.replace("/gene/"+this.id())})})}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"cy"}},[a("b-loading",{attrs:{"is-full-page":!1,active:e.loading,canCancel:!0},on:{"update:active":function(t){e.loading=t}}})],1)},staticRenderFns:[]};var m=a("VU/8")(v,p,!1,function(e){a("cU4o")},"data-v-4684bc12",null).exports,f=a("Gu7T"),g=a.n(f),_=a("lHA8"),b=a.n(_),y=a("XhSL"),C=(a("1FNb"),a("80cc"),a("Oq2I"),a("miEh"),a("jLnL"),{name:"DisRelDiagram",components:{IEcharts:y.a},props:["name","filters"],data:function(){return{instance:null,loading:!0,resize:!0,initOpt:{},diagram:{title:{text:""},tooltip:{},series:[{type:"graph",layout:"force",animation:!0,roam:!0,draggable:!0,hoverAnimation:!0,data:[],symbolSize:18,label:{show:!0,position:"right",color:"#c62828",fontWeight:"bold",fontSize:14,formatter:function(e){return e.data.name}},focusNodeAdjacency:!0,force:{repulsion:50,edgeLength:40,gravity:.1},edges:[],tooltip:{formatter:function(e,t,a){if("node"===e.dataType)return e.name;var s=[];return null!==e.data.v.g&&s.push("gene p-value: "+e.data.v.g+(e.data.v.g<.05?" remarkable":" ")),null!==e.data.v.m&&s.push("mutation p-value: "+e.data.v.m+(e.data.v.m<.05?" remarkable":" ")),null!==e.data.v.p&&s.push("path p-value: "+e.data.v.p+(e.data.v.p<.05?" remarkable":" ")),e.data.g.length>0&&s.push("shared genes: "+e.data.g),e.data.m.length>0&&s.push("shared mutations: "+e.data.m.length),s.join("<br>")}}}]}}},watch:{name:function(e,t){this.refreshData()},filters:function(e,t){this.refreshData()}},created:function(){this.refreshData()},methods:{onClick:function(e,t,a){"node"===e.dataType?"all"===this.name?this.$router.push("/disease/"+e.data.name):this.$router.replace("/disease/"+e.data.name):this.$router.push("/relation/disease/"+e.data.source+"/"+e.data.target)},onReady:function(e){this.instance=e},refreshData:function(){var e=this,t=this;this.$http.get("/api/dp/"+this.name).then(function(a){var s=a.data,n=["#666","#666","#666"],i=(new Array,new b.a),r=[];"all"!==e.name&&i.add(e.name);var o=!0,l=!1,d=void 0;try{for(var c,u=h()(s);!(o=(c=u.next()).done);o=!0){var v=c.value,p=v.d1,m=v.d2,f=v.s;if(t.filters&&t.filters.length>0){var _=[],y=!0,C=!1,w=void 0;try{for(var x,D=h()(v.g);!(y=(x=D.next()).done);y=!0){var k=x.value;t.filters.indexOf(k)>-1&&_.push(k)}}catch(e){C=!0,w=e}finally{try{!y&&D.return&&D.return()}finally{if(C)throw w}}if(0===_.length)continue;v.g=_,v.m=[]}i.add(p),i.add(m),r.push({source:p,target:m,value:f,v:v.v,g:v.g,m:v.m,lineStyle:{width:1.5+f,color:n[f-1]}})}}catch(e){l=!0,d=e}finally{try{!o&&u.return&&u.return()}finally{if(l)throw d}}t.diagram.series[0].data=[].concat(g()(i)).map(function(e){return{name:e}}),t.diagram.series[0].edges=r,t.diagram.series[0].force={repulsion:(t.name,500),edgeLength:"all"===t.name?350:100},t.loading=!1,t.$emit("onNumDiss",i.size-1)})},saveToCSV:function(){for(var e=this.diagram.series[0].edges.map(function(e){return{d1:e.source,d2:e.target,pg:e.v.g,pm:e.v.m,pp:e.v.p,g:e.g.join(" "),m:e.m.join(" ")}}),t=["d1","d2","pg","pm","pp","g","m"],a=["disease 1","disease 2","p-value gene","p-value mutation","p-value path","shared genes","shared mutations"],s=[],n=0;n<7;n++)s.push({value:t[n],label:a[n]});this.exportToCSV(e,s,this.name+"_related_disease")},saveAsSVG:function(){var e=document.getElementById("diagram").getElementsByTagName("svg")[0];this.exportAsSVG(e,this.name+"_related_disease")},saveAsPNG:function(){var e=this.instance.getDataURL({pixelRatio:2,backgroundColor:"#fff"});this.download(e,this.name+"_related_disease.png")}}}),w={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"echarts",attrs:{id:"diagram"}},[a("div",{staticStyle:{"text-align":"left"}},[a("a",{staticClass:"button is-rounded is-outlined is-small",on:{click:e.saveAsPNG}},[e._v("\n    Save as PNG\n  ")]),e._v(" "),a("a",{staticClass:"button is-rounded is-outlined is-small",on:{click:e.saveToCSV}},[e._v("\n    Export to CSV\n  ")])]),e._v(" "),a("IEcharts",{attrs:{initOpts:e.initOpt,option:e.diagram,resizable:e.resize,loading:e.loading},on:{click:e.onClick,ready:e.onReady}})],1)},staticRenderFns:[]};var x=a("VU/8")(C,w,!1,function(e){a("xflC")},"data-v-404cb07e",null).exports,D={name:"MainPage",components:{DisRelDiagram:x,GeneRelDiagramCy:m},data:function(){return{activeName:"gene",showGenes:!1}},watch:{showGenes:function(e,t){var a=this.$refs.geneCard;a.style.height=!0===e?"760px":"60px"}},created:function(){document.body.clientWidth>600&&(this.showGenes=!0)}},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"container"},[a("div",{staticClass:"card"},[e._m(0),e._v(" "),a("div",{staticClass:"card-content"},[a("DisRelDiagram",{staticStyle:{height:"700px"},attrs:{name:"all"}})],1)]),e._v(" "),a("div",{ref:"geneCard",staticClass:"card dark"},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"card-header-title is-centered dark"},[e._v("\n        Relationship of Genes\n      "),a("b-switch",{staticClass:"b-switch is-hidden-tablet",model:{value:e.showGenes,callback:function(t){e.showGenes=t},expression:"showGenes"}})],1)]),e._v(" "),a("keep-alive",[a("GeneRelDiagramCy",{directives:[{name:"show",rawName:"v-show",value:e.showGenes,expression:"showGenes"}],attrs:{name:"all"}})],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("p",{staticClass:"card-header-title is-centered"},[this._v("\n        Relationship of Diseases")])])}]};var S=a("VU/8")(D,k,!1,function(e){a("yAFy")},"data-v-627ddeca",null).exports,T=(a("GbHy"),a("MOpb"),a("wQkr"),{name:"GoCChart",components:{IEcharts:y.a},props:["name","datas","omuts"],data:function(){return{instance:null,loading:!0,resize:!0,initOpt:{},chrs:null,options:{grid:{show:!1,left:"2%",right:"2%",top:30},dataZoom:[{type:"slider",xAxisIndex:[0],filterMode:"filter",start:0,end:100},{type:"inside",xAxisIndex:[0],filterMode:"filter",start:50,end:70}],tooltip:{formatter:function(e,t,a){return"r"===e.data.gene[0]?"click to dbSNP: "+e.data.gene:"gene: "+e.data.gene}},xAxis:{show:!1,data:[]},yAxis:{show:!1},series:[{type:"bar",name:"chr",silent:!0,label:{show:!0,position:"bottom",color:"#666",formatter:function(e){return e.data.name.slice(4)}},data:[],itemStyle:{normal:{color:"#ECEFF1"}}},{type:"custom",name:"mutation",itemStyle:{normal:{borderWidth:4}},label:{show:!0,position:"top",distance:2,color:"#c62828",fontWeight:"bold",fontSize:15,formatter:function(e){return e.data.gene}},renderItem:null,encode:{x:0,y:[1,2]},data:[],z:5}]}}},watch:{datas:function(e,t){this.refreshData()}},created:function(){this.options.series[1].renderItem=this.renderItem;var e=this;this.$http.get("/api/chr/all").then(function(t){e.chrs=t.data,e.refreshData()})},methods:{onClick:function(e,t,a){"r"===e.data.gene[0]?window.open("https://www.ncbi.nlm.nih.gov/snp/"+e.data.gene):this.$router.replace("/gene/"+e.data.gene)},refreshData:function(){this.loading=!0;var e=new Array(23),t=new Array(23);function a(e){var t=22;return"X"!==e&&(t=parseInt(e)-1),t}for(var s in this.chrs){var n=a(s);e[n]="chr "+s,t[n]={name:e[n],value:parseInt(this.chrs[s].chr_end),itemStyle:{color:1&n?"#ECEFF1":"#F7F9F9"}}}var i=[],r=new Array,o=!0,l=!1,d=void 0;try{for(var c,u=h()(this.datas.concat([]));!(o=(c=u.next()).done);o=!0){var v=c.value,p=v.rs;if(v.gene||(v.gene=v.rs),!r[v.gene]&&void 0!==v.pos){v.pos=v.pos.toString();var m=v.pos.split("_"),f=parseInt(m[0]),g=2===m.length?parseInt(m[1]):f;i.push({gene:v.gene,value:[a(v.chr),f,g],itemStyle:{color:p?"#c62828":"#b71c1c"}}),r[v.gene]=!0}}}catch(e){l=!0,d=e}finally{try{!o&&u.return&&u.return()}finally{if(l)throw d}}this.options.xAxis.data=e,this.options.series[0].data=t,this.options.series[1].data=i,this.loading=!1},onReady:function(e){this.instance=e},renderItem:function(e,t){var a=t.value(0),s=t.coord([a,t.value(1)]),n=(t.coord([a,t.value(2)]),.3*t.size([1,0])[0]),i=t.style({stroke:t.visual("color"),fill:null});return{type:"line",shape:{x1:s[0]-n,y1:s[1],x2:s[0]+n,y2:s[1]},style:i}},saveAsSVG:function(){var e=document.getElementById("echart").getElementsByTagName("svg")[0];this.exportAsSVG(e,this.name+"_related_gene")},saveToCSV:function(){var e=this,t=this.options.series[1].data.map(function(t){return{gene:t.gene,chr:e.options.xAxis.data[t.value[0]].slice(4),begin:t.value[1],end:t.value[2]}});this.exportToCSV(t,["gene","chr","begin","end"],this.name+"_related_gene")},saveAsPNG:function(){var e=this.instance.getDataURL({pixelRatio:2,backgroundColor:"#fff"});this.download(e,this.name+"_related_gene.png")}}}),R={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gocchart"},[a("div",{staticStyle:{"text-align":"left"}},[a("a",{staticClass:"button is-rounded is-outlined is-small",on:{click:e.saveAsPNG}},[e._v("\n    Save as PNG\n  ")]),e._v(" "),a("a",{staticClass:"button is-rounded is-outlined is-small",on:{click:e.saveToCSV}},[e._v("\n    Export to CSV\n  ")])]),e._v(" "),a("IEcharts",{attrs:{id:"echart",initOpts:e.initOpt,option:e.options,resizable:e.resize,loading:e.loading},on:{ready:e.onReady,click:e.onClick}})],1)},staticRenderFns:[]};var G=a("VU/8")(T,R,!1,function(e){a("dBep")},"data-v-6f2b695f",null).exports,N=a("fZjL"),A=a.n(N),$={name:"Table",props:{name:{default:"all"},datas:{default:[]},showExport:{default:!0}},data:function(){return{tabledata:[],dict:{n:"name",t:"type",m:"mutation",p:"path",d:"disease",d1:"disease 1",d2:"disease 2",g:"gene",g1:"gene 1",g2:"gene 2",gene:"gene",v:"p-value",s:"significant",c:"chr",b:"begin",e:"end",id:"sample id",pid:"pubmed id",st:"sequence type",pt:"phenotype",chr:"chr",pos:"position",pro:"probands",pop:"population",ref:"ref",ale:"ale",fc:"function category",pv:"ptein Variant",var:"variation",val:"validation",mut:"mutation or not",source:"source",rs:"RefSNP"},hides:["st","pro","pop","var","val","fc","pv","mut"],shows:["id","pid","pt","gene","chr","pos","ref","ale"],filter:"",total:0,loading:!1,sortField:"",sortOrder:"asc",defaultSortOrder:"asc",page:1,perPage:16}},computed:{lowerCaseFilter:function(){return this.filter.toLowerCase()}},watch:{datas:function(e,t){this.refreshData()}},mounted:function(){this.refreshData()},methods:{refreshData:function(){void 0!==this.datas&&0!==this.datas.length&&("Other Database"===this.name?(this.hides=["gene"],this.shows=["pt","rs","chr","pid","pos","source"]):(this.hides=["st","pro","pop","var","val","fc","pv","mut"],this.shows=["id","pid","pt","gene","chr","pos","ref","ale"]),this.perPage="all"===this.name?16:12,this.tabledata=this.datas.slice(this.perPage*(this.page-1),this.perPage*this.page),this.total=this.datas.length)},onPageChange:function(e){this.page=e,this.refreshData()},onSort:function(e,t){this.sortField=e,this.sortOrder=t,this.page=1,this.datas.sort(this.compare(this.sortField,"desc"===this.sortOrder)),this.refreshData()},compare:function(e,t){return function(a,s){var n=0;return a[e]<s[e]?n=-1:a[e]>s[e]&&(n=1),t&&(n*=-1),n}},saveToCSV:function(){var e=A()(this.datas[0]);e.shift(),e.pop();var t=e.map(function(e){return{value:e,label:dict[e]}});this.exportToCSV(this.data,t,this.name+"_related_mutations")}}},E={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("div",{staticClass:"title is-5",staticStyle:{"text-align":"center"}},[e._v(e._s(e.name))]),e._v(" "),a("b-field",{attrs:{grouped:""}},[a("div",{staticClass:"control"},[a("b-input",{attrs:{size:"is-small",placeholder:"Filter"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showExport,expression:"showExport"}],staticClass:"control"},[a("a",{staticClass:"button is-rounded is-outlined is-small",on:{click:e.saveToCSV}},[e._v("\n          Export to CSV")])])]),e._v(" "),a("b-table",{staticStyle:{"font-size":"0.9em"},attrs:{data:e.tabledata,paginated:"","pagination-size":"is-small","backend-pagination":"",total:e.total,"per-page":e.perPage,"backend-sorting":"","default-sort-direction":e.defaultSortOrder,"default-sort":[e.sortField,e.sortOrder],hoverable:"",narrowed:"",detailed:""},on:{"page-change":e.onPageChange,sort:e.onSort},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.shows,function(s){return a("b-table-column",{key:s,attrs:{field:s,label:e.dict[s],centered:"",sortable:""}},[e._v("\n        "+e._s(t.row[s])+"\n      ")])})}},{key:"detail",fn:function(t){return[a("div",{staticClass:"columns is-multiline"},e._l(e.hides,function(s){return a("div",{key:s,staticClass:"column is-half"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column has-text-grey-dark"},[a("b",[e._v(e._s(e.dict[s]))])]),e._v(" "),a("div",{staticClass:"column"},[e._v(e._s(t.row[s]))])])])}))]}}])})],1)},staticRenderFns:[]};var V=a("VU/8")($,E,!1,function(e){a("3Xmy")},"data-v-68d7abf4",null).exports,F={name:"Disease",components:{GoCChart:G,DisRelDiagram:x,Table:V},data:function(){return{name:"disease",active:0,datas:[],originDatas:[],disease:{m:0,g:[]},genes:[],omuts:[],numGenes:0,numDiss:0,loading:!0,omuts_columns:[{field:"pid",label:"pubmed id"},{field:"pt",label:"phenotype"},{field:"rs",label:"RefSNP"},{field:"chr",label:"chr"},{field:"pos",label:"position"},{field:"source",label:"source"}]}},watch:{$route:function(e,t){e.path===t.path?this.filterData():this.refreshData()}},created:function(){this.refreshData()},methods:{filterData:function(){this.getGenes();if(this.genes.length>0){this.numGenes=0;var e=!0,t=!1,a=void 0;try{for(var s,n=h()(this.genes);!(e=(s=n.next()).done);e=!0){var i=s.value;this.disease.g.indexOf(i)>-1&&++this.numGenes}}catch(e){t=!0,a=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw a}}this.datas=this.originDatas.filter(this.createFilter(this.genes))}else this.datas=this.originDatas,this.numGenes=this.disease.g.length},getGenes:function(){var e=this.$route.query.genes;this.genes=e?e.split(","):[]},refreshData:function(){this.loading=!0,this.name=this.$route.params.name,this.getGenes();var e=this;e.originDatas.push({}),this.$http.get("/api/disease/"+this.name).then(function(t){e.datas=t.data.muts,e.omuts=t.data.omuts,e.loading=!1,e.disease=t.data.dis,e.disease||(e.disease={g:[]}),e.disease.g||(e.disease.g=[]),e.numGenes=e.disease.g.length})},setNumDiss:function(e){this.numDiss=e},createFilter:function(e){return function(t){return e.indexOf(t.gene)>-1}},handleClick:function(e){this.$router.replace("/gene/"+e)},emitTags:function(){var e=[{n:this.name,t:"disease"}],t=!0,a=!1,s=void 0;try{for(var n,i=h()(this.genes);!(t=(n=i.next()).done);t=!0){var r=n.value;e.push({n:r,t:"gene"})}}catch(e){a=!0,s=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw s}}}}},O={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container card"},[a("div",{staticClass:"card-header"},[a("p",{staticClass:"card-header-title is-centered"},[e._v("\n      Disease "+e._s(e.name))])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.genes.length>0,expression:"genes.length > 0"}],staticStyle:{"margin-top":"10px","text-align":"center"}},[e._v("Gene Filter:\n    "),e._l(e.genes,function(t){return a("a",{key:t,staticClass:"button is-outlined is-success is-small",on:{click:function(a){e.handleClick(t)}}},[e._v(e._s(t))])}),e._v(" "),a("a",{staticClass:"button is-outlined is-rounded is-small",on:{click:e.emitTags}},[a("b-icon",{attrs:{pack:"fa",type:"is-grey",icon:"edit",size:"is-small"}})],1)],2),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0===e.originDatas.length,expression:"originDatas.length === 0"}],staticClass:"card-content"},[e._v("\n     Oops! This disease is not in our database.\n  ")]),e._v(" "),a("b-tabs",{directives:[{name:"show",rawName:"v-show",value:e.originDatas.length>0,expression:"originDatas.length > 0"}],staticClass:"b-tabs",attrs:{expanded:"",size:"is-small"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("b-tab-item",{attrs:{label:"Related Genes: "+e.numGenes}},[a("GoCChart",{attrs:{name:e.name,datas:e.datas,omuts:e.omuts}})],1),e._v(" "),a("b-tab-item",{attrs:{label:"Related Diseases: "+e.numDiss}},[a("DisRelDiagram",{staticStyle:{height:"500px"},attrs:{name:e.name,filters:e.genes},on:{onNumDiss:e.setNumDiss}})],1),e._v(" "),a("b-tab-item",{attrs:{label:"Related Mutations: "+e.datas.length}},[a("Table",{attrs:{name:"Our Database",datas:e.datas}}),e._v(" "),a("Table",{attrs:{name:"Other Database",datas:e.omuts}})],1)],1)],1)},staticRenderFns:[]};var I=a("VU/8")(F,O,!1,function(e){a("c/0s")},"data-v-48245885",null).exports,z=(a("u9yV"),a("ILx8"),{name:"MoGChart",components:{IEcharts:y.a},props:["datas","gene"],data:function(){return{instance:null,loading:!0,resize:!0,notMerge:!0,initOpt:{},options:{tooltip:{confine:!0,formatter:function(e){return["disease: "+e.data.name,"chr: "+e.data.meta.chr,"mutation: "+(e.data.meta.ref||"-")+" > "+(e.data.meta.ale||"-"),"variation: "+e.data.meta.var,"position: "+e.data.meta.pos].join("<br>")}},legend:{data:[],itemGap:20,textStyle:{fontSize:12}},grid:{show:!1,left:"2%",right:"2%",height:40},dataZoom:[{type:"slider",start:0,end:100},{type:"inside",start:0,end:100}],xAxis:{scale:!0,splitLine:{show:!1},axisTick:{show:!1},axisLine:{lineStyle:{color:"#aaa"}}},yAxis:{max:4,show:!1},series:[]}}},watch:{datas:function(e,t){this.refreshData()}},methods:{onReady:function(e,t){this.instance=e,this.refreshData()},onClick:function(e,t,a){this.$router.replace("/disease/"+e.data.name)},refreshData:function(){if(this.datas){this.loading=!0;var e={},t=[],a=[],s=0,n=!0,i=!1,r=void 0;try{for(var o,l=h()(this.datas);!(n=(o=l.next()).done);n=!0){var d=o.value,c=d.pt;if(void 0!==d.pos){var u=d.pos.split("_"),v=parseInt(u[0]),p=2===u.length?parseInt(u[1]):v;void 0===e[c]&&(e[c]=s,t.push(c),a.push({name:c,type:"scatter",label:{position:"inside",color:"#fff",fontWeight:"bold",fontSize:13,formatter:function(e){return e.data.name.split("_").map(function(e){return e[0]}).join("").toUpperCase()}},symbolSize:function(e){return e[2]},itemStyle:{opacity:.8},data:[]}),s+=1),a[e[c]].data.push({name:c,meta:{chr:d.chr,ref:d.ref,ale:d.ale,var:d.var,pos:v+"->"+p},value:[Math.round((p+v)/2),1.5+e[c]/1.5,25]})}}}catch(e){i=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(i)throw r}}this.options.legend.data=t,this.options.series=a,this.$emit("onNumDiss",a.length),this.loading=!1,this.instance&&this.instance.setOption(this.options,!0)}},saveAsSVG:function(){var e=document.getElementById("echart").getElementsByTagName("svg")[0];this.exportAsSVG(e,this.gene.g+"_related_muts")},saveToCSV:function(){var e=this.options.legend.data.map(function(e){return{disease:e}});this.exportToCSV(e,["disease"],this.gene.g+"_related_disease")},saveAsPNG:function(){var e=this.instance.getDataURL({pixelRatio:2,backgroundColor:"#fff"});this.download(e,this.gene.g+"_related_disease.png")}}}),P={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"chart",attrs:{id:"echart"}},[a("div",{staticStyle:{"text-align":"left","margin-bottom":"10px"}},[a("a",{staticClass:"button is-rounded is-outlined is-small",on:{click:e.saveAsPNG}},[e._v("\n    Save as PNG\n  ")]),e._v(" "),a("a",{staticClass:"button is-rounded is-outlined is-small",on:{click:e.saveToCSV}},[e._v("\n    Export to CSV\n  ")])]),e._v(" "),a("IEcharts",{attrs:{initOpts:e.initOpt,option:e.options,resizable:e.resize,loading:e.loading},on:{click:e.onClick,ready:e.onReady}})],1)},staticRenderFns:[]};var B=a("VU/8")(z,P,!1,function(e){a("Y2b0")},"data-v-64171514",null).exports,L={name:"GeneRelDiagram",components:{IEcharts:y.a},props:["name"],data:function(){return{instance:null,loading:!0,resize:!0,initOpt:{},diagram:{title:{text:""},tooltip:{},series:[{type:"graph",layout:"force",draggable:!0,symbolSize:18,hoverAnimation:!0,focusNodeAdjacency:!0,data:[],label:{show:!0,fontWeight:"bold",fontSize:14,position:"right"},itemStyle:{},lineStyle:{width:3,color:"#888"},force:{repulsion:0,edgeLength:0},edges:[],tooltip:{formatter:function(e,t,a){return"node"===e.dataType?e.name:"shared diseases: "+e.value}}}]}}},watch:{name:function(e,t){this.refreshData()}},mounted:function(){},created:function(){this.refreshData()},methods:{onClick:function(e,t,a){"node"===e.dataType?this.$router.replace("/gene/"+e.data.name):this.$router.push("/relation/gene/"+e.data.source+"/"+e.data.target)},onReady:function(e){this.instance=e},refreshData:function(){var e=this;this.$http.get("/api/gp/"+this.name).then(function(t){var a=t.data,s=new b.a,n=[],i=!0,r=!1,o=void 0;try{for(var l,d=h()(a);!(i=(l=d.next()).done);i=!0){var c=l.value,u=c.g1,v=c.g2,p=c.d;s.add(u),s.add(v),n.push({source:u,target:v,value:p})}}catch(e){r=!0,o=e}finally{try{!i&&d.return&&d.return()}finally{if(r)throw o}}e.diagram.series[0].data=[].concat(g()(s)).map(function(e){return{name:e}}),e.$emit("onNumGenes",e.diagram.series[0].data.length),e.diagram.series[0].edges=n,e.diagram.series[0].force={repulsion:"all"===e.name?0:100,edgeLength:"all"===e.name?350:150},e.loading=!1})},saveToCSV:function(){for(var e=this.diagram.series[0].edges.map(function(e){return{g1:e.source,g2:e.target,d:e.value.join(" ")}}),t=["g1","g2","d"],a=["gene 1","gene 2","shared genes"],s=[],n=0;n<3;n++)s.push({value:t[n],label:a[n]});this.exportToCSV(e,s,this.name+"_related_gene")},saveAsSVG:function(){var e=document.getElementById("diagram").getElementsByTagName("svg")[0];this.exportAsSVG(e,this.name+"_related_gene")},saveAsPNG:function(){var e=this.instance.getDataURL({pixelRatio:2,backgroundColor:"#fff"});this.download(e,this.name+"_related_gene.png")}}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"echarts",attrs:{id:"diagram"}},[a("div",{staticStyle:{"text-align":"left"}},[a("a",{staticClass:"button is-rounded is-outlined is-small",on:{click:e.saveAsPNG}},[e._v("\n    Save as PNG\n  ")]),e._v(" "),a("a",{staticClass:"button is-rounded is-outlined is-small",on:{click:e.saveToCSV}},[e._v("\n    Export to CSV\n  ")])]),e._v(" "),a("IEcharts",{attrs:{initOpts:e.initOpt,option:e.diagram,resizable:e.resize,loading:e.loading},on:{click:e.onClick,ready:e.onReady}})],1)},staticRenderFns:[]};var M={name:"Gene",components:{MoGChart:B,GeneRelDiagram:a("VU/8")(L,U,!1,function(e){a("P3cJ")},"data-v-1a4e679b",null).exports,Table:V},data:function(){return{name:"gene",datas:[],gene:null,active:0,numGenes:0,numDiss:0,loading:!0}},computed:{tabset:function(){return[{label:"Related Diseases: "+this.numDiss,name:"d"},{label:"Related Genes: "+this.numGenes,name:"g"},{label:"Related Mutations: "+this.datas.length,name:"m"}]}},watch:{$route:function(e,t){this.refreshData()}},created:function(){this.refreshData()},methods:{refreshData:function(){this.loading=!0,this.name=this.$route.params.name;var e=this;e.datas=[{}],this.$http.get("/api/gene/"+this.name).then(function(t){e.datas=t.data.muts,e.loading=!1,e.gene=t.data.gene})},setNumDiss:function(e){this.numDiss=e},setNumGenes:function(e){this.numGenes=e}}},j={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container card"},[a("div",{staticClass:"card-header"},[a("p",{staticClass:"card-header-title is-centered"},[e._v("Gene "+e._s(e.name))])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0===e.datas.length,expression:"datas.length === 0"}],staticClass:"card-content"},[e._v("\n    Oops! This gene is not in our database.\n  ")]),e._v(" "),a("b-tabs",{directives:[{name:"show",rawName:"v-show",value:e.datas.length>0,expression:"datas.length > 0"}],staticClass:"b-tabs",attrs:{expanded:"",size:"is-small"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("b-tab-item",{attrs:{label:"Related Diseases: "+e.numDiss}},[a("MoGChart",{attrs:{datas:e.datas,gene:e.gene},on:{onNumDiss:e.setNumDiss}})],1),e._v(" "),a("b-tab-item",{attrs:{label:"Related Genes: "+e.numGenes}},[a("GeneRelDiagram",{staticStyle:{height:"500px"},attrs:{name:e.name},on:{onNumGenes:e.setNumGenes}})],1),e._v(" "),a("b-tab-item",{attrs:{label:"Related Mutations: "+e.datas.length}},[a("Table",{attrs:{name:e.name,datas:e.datas}})],1)],1)],1)},staticRenderFns:[]};var H=a("VU/8")(M,j,!1,function(e){a("YTOd")},"data-v-7ca3b65e",null).exports,q={name:"Relation",components:{Table:V},data:function(){return{type:"",data:null,tableData:[],columns:[{field:"type",label:"type",centered:!0},{field:"value",label:"p-value",centered:!0},{field:"rem",label:"remarkable",centered:!0}],pair:{n1:{n:"",t:""},n2:{n:"",t:""}}}},watch:{$route:function(e,t){this.refreshData()}},created:function(){this.refreshData()},methods:{refreshData:function(){this.type=this.$route.params.type,this.pair.n1={n:this.$route.params.n1,t:this.type},this.pair.n2={n:this.$route.params.n2,t:this.type},this.data={g:[],m:[],p:[],d:[]};var e=this;this.$http.get("/api"+this.$route.path).then(function(t){e.data=t.data,"disease"===e.type?(null===e.data&&(e.data={g:[],m:[],v:{g:null,m:null,p:null}}),0===e.data.g.length&&(e.data.g=["None"]),0===e.data.m.length&&(e.data.m=["None"]),e.tableData=[{type:"gene",value:null===e.data.v.g?"null":e.data.v.g,rem:null!==e.data.v.g&&e.data.v.g<.005?"Yes":"No"},{type:"mutation",value:null===e.data.v.m?"null":e.data.v.m,rem:null!==e.data.v.m&&e.data.v.m<.005?"Yes":"No"},{type:"pathway",value:null===e.data.v.p?"null":e.data.v.p,rem:null!==e.data.v.p&&e.data.v.p<.005?"Yes":"No"}]):"gene"===e.type&&(e.data||(e.data={}),void 0!==e.data.d&&0!==e.data.d.length||(e.data.d=["None"]))})},handleClick:function(e,t){"None"!==e&&this.$router.replace("/"+t+"/"+e)}}},W={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container card"},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"card-header-title is-centered"},[e._v("\n    Relationship between\n    "),a("a",{staticClass:"button is-small is-outlined",class:"gene"===e.type?"is-success":"is-danger",on:{click:function(t){e.handleClick(e.pair.n1.n,e.pair.n1.t)}}},[e._v(e._s(e.pair.n1.n))]),e._v("\n    and\n    "),a("a",{staticClass:"button is-small is-outlined",class:"gene"===e.type?"is-success":"is-danger",on:{click:function(t){e.handleClick(e.pair.n2.n,e.pair.n2.t)}}},[e._v(e._s(e.pair.n2.n))])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"disease"===e.type,expression:"type === 'disease'"}],staticClass:"card-content"},[a("div",{staticClass:"item"},[a("p",{staticClass:"header"},[e._v("Shared Genes")]),e._v(" "),e._l(e.data.g,function(t){return a("a",{key:t,staticClass:"button is-small is-outlined is-success",on:{click:function(a){e.handleClick(t,"gene")}}},[e._v(e._s(t))])})],2),e._v(" "),a("div",{staticClass:"item",staticStyle:{display:"inline-block",width:"100%","max-width":"800px"}},[a("p",{staticClass:"header"},[e._v("Shared Mutations")]),e._v(" "),e._l(e.data.m,function(t){return a("a",{key:t,staticClass:"button is-small is-outlined is-warning"},[e._v(e._s(t))])})],2),e._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"header"},[e._v("P-Values")]),e._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column"}),e._v(" "),a("div",{staticClass:"column is-three-fifths"},[a("b-table",{attrs:{data:e.tableData,columns:e.columns,hoverable:""}})],1),e._v(" "),a("div",{staticClass:"column"})])])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"gene"===e.type,expression:"type === 'gene'"}],staticClass:"card-content"},[a("div",{staticClass:"header"},[e._v("Shared Disease")]),e._v(" "),e._l(e.data.d,function(t){return a("a",{key:t,staticClass:"button is-small is-outlined is-danger",on:{click:function(a){e.handleClick(t,"disease")}}},[e._v(e._s(t))])})],2)])},staticRenderFns:[]};var Y=a("VU/8")(q,W,!1,function(e){a("W6cw")},"data-v-bb845438",null).exports,X={name:"RelDiagram",components:{IEcharts:y.a},props:["name","datas"],data:function(){return{instance:null,loading:!0,resize:!0,initOpt:{},diagram:{title:{text:""},tooltip:{},series:[{type:"graph",layout:"force",animation:!0,roam:!0,draggable:!0,hoverAnimation:!0,data:[],symbolSize:18,label:{show:!0,position:"right",color:"#c62828",fontWeight:"bold",fontSize:13,formatter:function(e){return e.data.name}},focusNodeAdjacency:!0,force:{repulsion:500,edgeLength:100,gravity:.1},edges:[],lineStyle:{width:3},tooltip:{formatter:function(e,t,a){return"node"===e.dataType?e.data.name:"P-Value: "+e.data.value}}}]}}},watch:{datas:function(e,t){this.refreshData()}},mounted:function(){this.refreshData()},methods:{onClick:function(e,t,a){"node"===e.dataType&&this.$router.replace("/disease/"+e.data.name)},onReady:function(e){this.instance=e},refreshData:function(){this.loading=!0;var e=new b.a,t=[];e.add(this.name);var a=!0,s=!1,n=void 0;try{for(var i,r=h()(this.datas);!(a=(i=r.next()).done);a=!0){var o=i.value;e.add(o.d),t.push({source:this.name,target:o.d,value:o.p})}}catch(e){s=!0,n=e}finally{try{!a&&r.return&&r.return()}finally{if(s)throw n}}this.diagram.series[0].data=[].concat(g()(e)).map(function(e){return{name:e}}),this.diagram.series[0].edges=t,this.loading=!1},saveToCSV:function(){for(var e=this.datas.map(function(e){return{d:e.d,g:e.g.join(" "),p:e.p}}),t=["d","g","p"],a=["disease","shared genes","p-value"],s=[],n=0;n<3;n++)s.push({value:t[n],label:a[n]});this.exportToCSV(e,s,this.name+"_related_disease")},saveAsSVG:function(){var e=document.getElementById("echart").getElementsByTagName("svg")[0];this.exportAsSVG(e,this.name+"_related_disease")},saveAsPNG:function(){var e=this.instance.getDataURL({pixelRatio:2,backgroundColor:"#fff"});this.download(e,this.name+"_related_disease.png")}}},Z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"echarts",attrs:{id:"echart"}},[a("div",{staticStyle:{"text-align":"left"}},[a("a",{staticClass:"button is-rounded is-outlined is-small",on:{click:e.saveAsPNG}},[e._v("\n    Save as PNG\n  ")]),e._v(" "),a("a",{staticClass:"button is-rounded is-outlined is-small",on:{click:e.saveToCSV}},[e._v("\n    Export to CSV\n  ")])]),e._v(" "),a("IEcharts",{attrs:{initOpts:e.initOpt,option:e.diagram,resizable:e.resize,loading:e.loading},on:{click:e.onClick,ready:e.onReady}})],1)},staticRenderFns:[]};var Q={name:"DGRelation",components:{RelDiagram:a("VU/8")(X,Z,!1,function(e){a("lO5Z")},"data-v-9fbf5b56",null).exports},props:["name","genestr","db"],data:function(){return{datas:[],genes:[],loading:!0}},watch:{genestr:function(e,t){" "!==e[e.length-1]&&this.refreshData()},name:function(e,t){this.refreshData()},db:function(e,t){this.refreshData()}},created:function(){this.refreshData()},methods:{refreshData:function(){if(void 0!==this.genestr&&0!==this.genestr.length){this.loading=!0,this.genes=this.genestr.toUpperCase().split(/\s+/);var e=this.genes.join(","),t=this;this.$http.get("/api/pvalue/"+e+"/"+this.db).then(function(e){t.datas=e.data,t.loading=!1})}},routeTo:function(e,t){this.$router.replace("/"+e+"/"+t)},emitTags:function(){var e=[{n:this.name,t:"d?"}],t=!0,a=!1,s=void 0;try{for(var n,i=h()(this.genes);!(t=(n=i.next()).done);t=!0){var r=n.value;e.push({n:r,t:"g?"})}}catch(e){a=!0,s=e}finally{try{!t&&i.return&&i.return()}finally{if(a)throw s}}}}},K={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container card"},[a("b-loading",{attrs:{"is-full-page":!1,active:e.loading,canCancel:!0},on:{"update:active":function(t){e.loading=t}}}),e._v(" "),a("div",{staticClass:"card-header"},[a("div",{staticClass:"card-header-title is-centered"},[e._v("\n        Relationship about\n      "),a("a",{staticClass:"button is-danger is-small is-outlined",on:{click:function(t){e.routeTo("disease",e.name)}}},[e._v(e._s(e.name))]),e._v(" "),a("span",[e._v("with")]),e._v(" "),a("div",{staticClass:"is-grouped is-grouped-multiline"},e._l(e.genes,function(t){return a("a",{key:t,staticClass:"button is-success is-small is-outlined",on:{click:function(a){e.routeTo("gene",t)}}},[e._v(e._s(t))])}))])]),e._v(" "),a("div",{staticClass:"card-content"},[a("RelDiagram",{staticStyle:{height:"480px"},attrs:{name:e.name,datas:e.datas}}),e._v(" "),a("b-table",{attrs:{data:e.datas},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-table-column",{attrs:{centered:"",field:"d",label:"Disease"}},[a("a",{staticClass:"button is-danger is-small is-outlined",on:{click:function(a){e.routeTo("disease",t.row.d)}}},[e._v(e._s(t.row.d))])]),e._v(" "),a("b-table-column",{attrs:{centered:"",field:"g",label:"Related Genes"}},e._l(t.row.g,function(t){return a("a",{key:t,staticClass:"button is-success is-small is-outlined",on:{click:function(a){e.routeTo("gene",t)}}},[e._v(e._s(t))])})),e._v(" "),a("b-table-column",{attrs:{centered:"",field:"p",label:"P-Value"}},[e._v(e._s(t.row.p))])]}}])})],1)],1)},staticRenderFns:[]};var J={name:"Search",components:{SimpleInput:r,DGRelation:a("VU/8")(Q,K,!1,function(e){a("qRbX")},"data-v-01240022",null).exports},data:function(){return{searchType:["Custom","File","Relation","Disease or Gene"],selectedType:"Custom",disease:"",files:[],dgDatas:[],genes:"",item0:{n:"",t:""},item1:{n:"",t:""},selectedDb:"our"}},methods:{switchType:function(e){this.selectedType=e},handleQuery:function(){if("File"===this.selectedType&&this.files&&this.files.length>0){this.dgDatas=[];var e=new FileReader;e.readAsText(this.files[0]);var t=this;e.onload=function(e){var a=e.target.result.split("\n"),s=!0,n=!1,i=void 0;try{for(var r,o=h()(a);!(s=(r=o.next()).done);s=!0){var l=r.value.split(" ");l.length<2||t.dgDatas.push({name:l[0],genestr:l.slice(1).join(" ")})}}catch(e){n=!0,i=e}finally{try{!s&&o.return&&o.return()}finally{if(n)throw i}}}}"Relation"===this.selectedType&&this.item0.t===this.item1.t&&this.$router.replace("/relation/"+this.item0.t+"/"+this.item0.n+"/"+this.item1.n)},handleRoute:function(e){""!==e.t&&this.$router.replace("/"+e.t+"/"+e.n)}}},ee={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("div",{staticClass:"container card"},[e._m(0),e._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"field is-horizontal is-grouped"},[a("label",{staticClass:"label"},[e._v("Search Type")]),e._v(" "),a("p",{staticClass:"control"},e._l(e.searchType,function(t){return a("a",{key:t,staticClass:"button is-small btn-list",class:t===e.selectedType?"is-primary is-outlined":"is-white",on:{click:function(a){e.switchType(t)}}},[e._v(e._s(t))])})),e._v(" "),a("label",{staticClass:"label"},[e._v("Used Database")]),e._v(" "),a("b-field",[a("b-radio-button",{attrs:{"native-value":"our"},model:{value:e.selectedDb,callback:function(t){e.selectedDb=t},expression:"selectedDb"}},[a("span",[e._v("Our Database")])]),e._v(" "),a("b-radio-button",{attrs:{"native-value":"all"},model:{value:e.selectedDb,callback:function(t){e.selectedDb=t},expression:"selectedDb"}},[a("span",[e._v("All Databases")])])],1)],1),e._v(" "),a("b-field",{directives:[{name:"show",rawName:"v-show",value:"Custom"===e.selectedType,expression:"selectedType === 'Custom'"}]},[a("b-input",{attrs:{placeholder:"Disease Name"},model:{value:e.disease,callback:function(t){e.disease=t},expression:"disease"}}),e._v(" "),a("b-input",{attrs:{expanded:"",placeholder:"A List of Gene Symbols (sperate by one white-space)"},model:{value:e.genes,callback:function(t){e.genes=t},expression:"genes"}})],1),e._v(" "),a("b-field",{directives:[{name:"show",rawName:"v-show",value:"File"===e.selectedType,expression:"selectedType === 'File'"}],staticClass:"file"},[a("b-dropdown",{attrs:{hoverable:""}},[a("button",{staticClass:"button is-outlined is-rounded",attrs:{slot:"trigger"},slot:"trigger"},[a("b-icon",{attrs:{icon:"question",size:"is-small"}})],1),e._v(" "),a("b-dropdown-item",[e._v("Upload a file with following format in each line:")]),e._v(" "),a("b-dropdown-item",[a("b",[e._v("One disease name")]),e._v(" and "),a("b",[e._v("A list of gene symbols")]),e._v("(seperated by a space)")]),e._v(" "),a("b-dropdown-item",[e._v("For example:")]),e._v(" "),a("b-dropdown-item",[e._v("migraine PRRT2 SCN1A KCNK18 CACNA1A"),a("br"),e._v("stroke ENPP1 GLA SCN1A NOTCH3")])],1),e._v(" "),a("b-upload",{model:{value:e.files,callback:function(t){e.files=t},expression:"files"}},[a("a",{staticClass:"button is-outlined"},[a("b-icon",{attrs:{icon:"upload",size:"is-small"}}),e._v(" "),a("span",[e._v("Upload File")])],1)]),e._v(" "),e.files&&e.files.length?a("span",{staticClass:"button is-success is-outlined"},[e._v("\n            "+e._s(e.files[0].name)+"\n        ")]):e._e()],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"Relation"===e.selectedType,expression:"selectedType === 'Relation'"}],staticClass:"field has-addons"},[a("p",{staticClass:"control is-expanded"},[a("SimpleInput",{attrs:{placeholder:"Select one disease or gene from popup list"},on:{emitTag:function(t){e.item0=t}}})],1),e._v(" "),a("p",{staticClass:"control is-expanded"},[a("SimpleInput",{attrs:{showType:e.item0.t,placeholder:""===e.item0.n?"Please select left one first":"Select another "+e.item0.t+" from popup list"},on:{emitTag:function(t){e.item1=t}}})],1)]),e._v(" "),a("a",{directives:[{name:"show",rawName:"v-show",value:"Relation"===e.selectedType||"File"===e.selectedType,expression:"selectedType === 'Relation' || selectedType === 'File'"}],staticClass:"button is-rounded is-outlined is-primary",staticStyle:{"margin-top":"10px"},on:{click:e.handleQuery}},[e._v("Query")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"Disease or Gene"===e.selectedType,expression:"selectedType === 'Disease or Gene'"}],staticClass:"field"},[a("SimpleInput",{on:{emitTag:e.handleRoute}})],1)],1)]),e._v(" "),a("DGRelation",{directives:[{name:"show",rawName:"v-show",value:"Custom"===e.selectedType&&e.genes.length>0,expression:"selectedType === 'Custom' && genes.length > 0"}],attrs:{name:e.disease,genestr:e.genes,db:e.selectedDb}}),e._v(" "),e._l(e.dgDatas,function(t){return a("DGRelation",{directives:[{name:"show",rawName:"v-show",value:"File"===e.selectedType&&e.dgDatas.length,expression:"selectedType === 'File' && dgDatas.length"}],key:t.name,attrs:{name:t.name,genestr:t.genestr,db:e.selectedDb}})})],2)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("header",{staticClass:"card-header"},[t("p",{staticClass:"card-header-title"},[this._v("Custom Search")])])}]};var te=a("VU/8")(J,ee,!1,function(e){a("IsuA")},"data-v-1fca0597",null).exports,ae={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[e._m(0),e._v(" "),a("div",{staticClass:"container",staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"tile is-ancestor"},[e._m(1),e._v(" "),a("div",{staticClass:"tile is-5 is-parent"},[a("article",{staticClass:"tile is-child box"},[a("p",{staticClass:"title"},[e._v("Resource")]),e._v(" "),e._m(2),e._v(" "),a("p",[e._v("Or Viewing all mutations related with diseases of the nervous system:")]),e._v(" "),a("router-link",{staticClass:"button is-outlined is-rounded is-primary",staticStyle:{"margin-top":"16px"},attrs:{to:"/mutations"}},[e._v("View All Mutations")])],1)])]),e._v(" "),a("div",{staticClass:"tile is-ancestor"},[a("div",{staticClass:"tile is-parent"},[a("div",{staticClass:"tile is-child box"},[a("p",{staticClass:"title"},[e._v("Help")]),e._v(" "),a("div",{staticClass:"content"},[a("h3",[e._v("How to search NeurodisM ?")]),e._v(" "),a("h5",[e._v("1. By user input")]),e._v(" "),a("p",[e._v("Go to the search box under the topbar, just type the search item, disease name or gene symbol, and then select which you want in the popup list.")]),e._v(" "),a("p",[e._v("The search items in NeurodisM include:")]),e._v(" "),a("ul",[a("li",[e._v("Gene symbols, e.g. "),a("router-link",{staticClass:"button is-small is-success is-outlined",attrs:{to:"/gene/CACNA1A"}},[e._v("CACNA1A")])],1),e._v(" "),a("li",[e._v("Disease name, e.g. "),a("router-link",{staticClass:"button is-small is-danger is-outlined",attrs:{to:"/disease/migraine"}},[e._v("Migraine")])],1)]),e._v(" "),a("h5",[e._v("2. By clicking on diseases or genes "),a("router-link",{attrs:{to:"/home"}},[e._v("here")]),e._v(", or in any charts.")],1),e._v(" "),a("hr"),e._v(" "),a("h3",[e._v("How to build disease network by customer input ?")]),e._v(" "),a("p",[e._v("Click the "),a("router-link",{staticClass:"button is-small",attrs:{to:"/search"}},[e._v("Search")]),e._v(" \n        showing on the top bar, it will direct you to the advanced search page.")],1),e._v(" "),a("p",[e._v("In this page, you can type a disease name specified by yourself and a group of genes separated by a space.")]),e._v(" "),e._m(3),e._v(" "),a("p",[e._v("For Example:")]),e._v(" "),e._m(4),e._v(" "),e._m(5)])])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("section",{staticClass:"hero has-text-left is-primary"},[t("div",{staticClass:"hero-body"},[t("div",{staticClass:"container"},[t("h1",{staticClass:"title"},[this._v("\n        Introduction\n      ")]),this._v(" "),t("h2",{staticClass:"subtitle"},[t("p",[this._v("NeurodisM is a database containing mutations and genes related with diseases of the nervous system, and relationships between the diseases.")]),this._v(" "),t("p",[this._v("NeurodisM is able to construct a disease network with disease and gene information input by users, and able to help to find the candidate genes related with diseases.")])])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tile is-parent"},[a("article",{staticClass:"tile is-child box"},[a("p",{staticClass:"title"},[e._v("Main Features")]),e._v(" "),a("div",{staticClass:"content"},[a("ul",[a("li",[a("b",[e._v("Disease network")]),e._v(" constructed by assessing significance of shared mutations and genes between 21 diseases.")]),e._v(" "),a("li",[e._v("Constructing disease network with "),a("b",[e._v("users input")]),e._v(" disease and gene information.")]),e._v(" "),a("li",[a("b",[e._v("Gene network")]),e._v(" constructed by connecting genes relate with the same disease.")])])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Clicking on "),t("a",{staticClass:"button is-small is-outlined is-rounded"},[this._v("Save as PNG")]),this._v(" or "),t("a",{staticClass:"button is-small is-outlined is-rounded"},[this._v("Export to CSV")]),this._v(" to download data of a specific disease.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("You can also upload a file contains one disease name and a list of gene symbols(seperated by a space) in each line after choosing "),t("span",{staticClass:"tag"},[this._v("File")]),this._v("search type.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("blockquote",[this._v("migraine PRRT2 SCN1A KCNK18 CACNA1A"),t("br"),this._v("stroke ENPP1 GLA SCN1A NOTCH3")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("If you like to download the result, please click on "),t("a",{staticClass:"button is-small is-outlined is-rounded"},[this._v("Save as PNG")]),this._v(" or "),t("a",{staticClass:"button is-small is-outlined is-rounded"},[this._v("Export to CSV")]),this._v(" on the left top of the output.")])}]};var se=a("VU/8")({name:"Documentation",data:function(){return{}}},ae,!1,function(e){a("B0fS")},"data-v-195d8ad1",null).exports,ne={name:"Mutations",components:{Table:V},data:function(){return{datas:[],loading:!0}},created:function(){var e=this;this.loading=!0,this.$http.get("/api/mut/all").then(function(t){e.datas=t.data,e.loading=!1})}},ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container card"},[a("b-loading",{attrs:{"is-full-page":!1,active:e.loading,canCancel:!0},on:{"update:active":function(t){e.loading=t}}}),e._v(" "),e._m(0),e._v(" "),a("div",{staticClass:"card-content"},[a("Table",{attrs:{datas:e.datas,name:"all",showExport:!1}})],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header"},[t("p",{staticClass:"card-header-title is-centered"},[this._v("All Mutations")])])}]};var re=a("VU/8")(ne,ie,!1,function(e){a("3eQR")},"data-v-9fb1f142",null).exports;s.a.use(c.a);var oe=new c.a({mode:"history",base:"neurodism",routes:[{path:"/",name:"Documentation",component:se,meta:{keepAlive:!0}},{path:"/home",name:"Home",component:S,meta:{keepAlive:!0}},{path:"/disease/:name",name:"Disease",component:I,meta:{keepAlive:!0}},{path:"/gene/:name",name:"Gene",component:H,meta:{keepAlive:!0}},{path:"/relation/:type/:n1/:n2",name:"Relation",component:Y},{path:"/search",name:"Search",component:te,meta:{keepAlive:!0}},{path:"/documentation",name:"Documentation",component:se,meta:{keepAlive:!0}},{path:"/mutations",name:"Mutations",component:re,meta:{keepAlive:!0}}]}),le=a("mtWM"),de=a.n(le),ce=a("GtXM").Parser;function ue(e,t){var a=document.createElement("a");a.setAttribute("href",e),a.setAttribute("download",t),document.body.appendChild(a),a.click(),document.body.removeChild(a)}var he={install:function(e,t){e.prototype.exportToCSV=function(e,t,a){var s=new ce({fields:t,quote:""}).parse(e);ue(encodeURI("data:text/csvcharset=GBK,\ufeff"+s),(a||"file")+".csv")},e.prototype.exportAsSVG=function(e,t){var a=(new XMLSerializer).serializeToString(e);a='<?xml version="1.0" standalone="no"?>\r\n'+a,ue("data:image/svg+xml;charset=utf-8,"+encodeURIComponent(a),t+".svg")},e.prototype.download=function(e,t){ue(e,t)},e.prototype.apiserver="http://193.112.28.37"}},ve=a("MMSg"),pe=a.n(ve);a("d4tr");s.a.prototype.$http=de.a,s.a.config.productionTip=!1,s.a.use(he),de.a.defaults.baseURL=s.a.prototype.apiserver+"/neurodism",s.a.use(pe.a,{defaultIconPack:"fa"}),new s.a({el:"#app",router:oe,components:{App:d},template:"<App/>"})},Oe5V:function(e,t){},P3cJ:function(e,t){},W6cw:function(e,t){},Y2b0:function(e,t){},YTOd:function(e,t){},"c/0s":function(e,t){},cU4o:function(e,t){},d4tr:function(e,t){},dBep:function(e,t){},lO5Z:function(e,t){},qRbX:function(e,t){},xflC:function(e,t){},yAFy:function(e,t){}},["NHnr"]);